"use strict";function formatDateTime(e){return moment(e).format("LLLL")}function formatDateOnly(e){return moment(e).format("LL")}function formatShortDateTime(e){var t=moment(e);return t.format("l")+" â€“ "+t.format("LT")}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".postDateTimeDisplay");Array.prototype.forEach.call(e,function(e){e.textContent=formatDateTime(e.getAttribute("content"))});const t=document.querySelectorAll(".postTimeOnlyDisplay");Array.prototype.forEach.call(t,function(e){e.parentNode.removeChild(e)});const o=document.querySelectorAll(".postDateDisplay");Array.prototype.forEach.call(o,function(e){e.textContent=formatDateOnly(e.getAttribute("content"))});const n=document.querySelectorAll(".postShortDateTimeDisplay");Array.prototype.forEach.call(n,function(e){e.textContent=formatShortDateTime(e.getAttribute("content"))})});var description=document.body.querySelector("meta[name='description']");description&&(description.parentNode.removeChild(description),document.head.appendChild(description));var scrollconfig={threshold:0},pixeltracking=document.getElementById("pixel-to-watch");if("IntersectionObserver"in window){var backToTopBtnContainer=document.getElementById("backToTopBtnContainer"),backToTopBtn=document.getElementById("backToTopBtn");function onIntersection(e){e.forEach(function(e){e.intersectionRatio>0&&e.target==pixeltracking?(backToTopBtnContainer.classList.remove("visible"),backToTopBtn.tabIndex=-1):e.intersectionRatio<=0&&e.target==pixeltracking&&(backToTopBtnContainer.classList.add("visible"),backToTopBtn.tabIndex=0)})}new IntersectionObserver(onIntersection,scrollconfig).observe(pixeltracking)}else document.getElementById("backToTopBtnContainer").classList.add("visible");var relatedsrc,relatedhash,relatedtitle,disqus_target=document.getElementById("disqus_thread"),related_target=document.getElementById("related-posts"),lazyconfig={rootmargin:"150px 0px",threshold:.01};function loadDisqus(e){var t=document.getElementById("disqus_empty"),o=document.createElement("script");e&&(o.onload=console.log("Disqus loaded."),o.src="https://xerblade.disqus.com/embed.js",document.head.appendChild(o),t&&t.parentNode&&t.parentNode.removeChild(t))}function loadRelatedPosts(e){var t=document.createElement("script");t.setAttribute("crossorigin","anonymous"),t.setAttribute("integrity",relatedhash),t.onload=console.log("Related posts loaded."),t.onerror=function(){throw failedToLoadRelatedPosts(),this.parentNode.removeChild(this),new Error("Failed to load "+this.src)},t.src=relatedsrc,document.head.appendChild(t)}function failedToLoadRelatedPosts(){console.log("failedToLoadRelatedPosts()"),related_target.innerHTML="\n        <div class='card'>\n            <div class='card-content'>Failed to load "+relatedtitle+".</div>\n            <div class='card-action'><button class='btn ripple ripple-light' onclick='loadRelatedPosts(document.getElementById(\"related-posts\"))'>Retry</button></div>\n        </div>\n    "}if(window.location.href.indexOf("/p/")>-1?(relatedsrc="https://rawcdn.githack.com/XerBlade/xerblade-com-tracker/269a8b44dad660053a1c7350c0769af76f6636d9/js/recentposts.min.js",relatedhash="sha384-L+BqG4uutIJAkHsmHpe1JSI+JUCYu++Zqz/ym48MxILipgV/xKIz4OYCaZi61e7Y",relatedtitle="recent posts"):(relatedsrc="https://rawcdn.githack.com/XerBlade/xerblade-com-tracker/269a8b44dad660053a1c7350c0769af76f6636d9/js/relatedposts.min.js",relatedhash="sha384-0tBxUs5FsS8Jev/6xNtfe1CjdKWq132t7Gm4HF/gUcfd6fR5z3VadiRateAZCRT7",relatedtitle="related posts"),disqus_target&&related_target){var checkhash=window.location.hash;if(checkhash&&(checkhash=checkhash.replace(/#/,"")),"IntersectionObserver"in window&&0!=checkhash.indexOf("comment-")){function onLazyIntersection(t){t&&t.forEach(function(t){t.intersectionRatio>0&&t.target==disqus_target?(e.unobserve(t.target),loadDisqus(t.target)):t.intersectionRatio>0&&t.target==related_target&&(e.unobserve(t.target),loadRelatedPosts(t.target))})}let e=new IntersectionObserver(onLazyIntersection,lazyconfig);"loading"==document.readyState?window.addEventListener("DOMContentLoaded",function(t){e.observe(disqus_target),e.observe(related_target)}):(e.observe(disqus_target),e.observe(related_target))}else"loading"==document.readyState?window.addEventListener("DOMContentLoaded",function(e){loadRelatedPosts(related_target),loadDisqus(disqus_target)}):(loadRelatedPosts(related_target),loadDisqus(disqus_target))}var disquslink=document.getElementById("disqus-link");if(disquslink&&disquslink.addEventListener("click",function(e){return e.preventDefault(),document.getElementById("disqus_thread").focus(),!1}),navigator.share){var sharebutton=document.getElementById("native-share-button");sharebutton.addEventListener("click",function(){const e=document.title;let t=document.location.href;const o=document.querySelector("link[rel=canonical]");null!==o&&(t=o.href),navigator.share({title:e,url:t}).then(function(){console.log("Successful share")}).catch(function(e){console.log("Error sharing",e)})}),sharebutton.classList.remove("hide");var classicsharebuttons=document.querySelector(".share-btns");classicsharebuttons&&classicsharebuttons.classList.add("hide")}document.querySelectorAll(".validate").forEach(function(e){e.addEventListener("invalid",function(e){e.preventDefault(),this.classList.add("invalid"),this.addEventListener("input",function(e){this.classList.remove("invalid")})})});const modalTriggers=document.querySelectorAll(".modal-trigger");modalTriggers.forEach(e=>{const t=e.dataset.target,o=document.getElementById(t);e.onclick=(e=>{o.classList.add("open"),o.querySelector("input[required]").focus(),document.querySelector(".modal-overlay").onclick=(()=>{o.classList.remove("open")})}),e.href="javascript:void(0)",o.querySelector("form").addEventListener("submit",()=>{o.classList.remove("open")}),o.querySelector(".modal-close").onclick=(()=>{o.classList.remove("open")})});