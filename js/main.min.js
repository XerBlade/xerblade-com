"use strict";function formatDateTime(e){return moment(e).format("LLLL")}function formatDateOnly(e){return moment(e).format("LL")}function formatShortDateTime(e){const t=moment(e);return t.format("l")+" â€“ "+t.format("LT")}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".postDateTimeDisplay").forEach(e=>{e.textContent=formatDateTime(e.getAttribute("content"))}),document.querySelectorAll(".postTimeOnlyDisplay").forEach(e=>{e.parentNode.removeChild(e)}),document.querySelectorAll(".postDateDisplay").forEach(e=>{e.textContent=formatDateOnly(e.getAttribute("content"))}),document.querySelectorAll(".postShortDateTimeDisplay").forEach(e=>{e.textContent=formatShortDateTime(e.getAttribute("content"))})});const description=document.body.querySelector("meta[name='description']");description&&document.head.appendChild(description);const scrollconfig={threshold:0},pixeltracking=document.getElementById("pixel-to-watch");if("IntersectionObserver"in window){const e=document.getElementById("backToTopBtnContainer");document.getElementById("backToTopBtn");function onIntersection(t){t.forEach(t=>{t.intersectionRatio>0&&t.target==pixeltracking?e.classList.remove("visible"):t.intersectionRatio<=0&&t.target==pixeltracking&&e.classList.add("visible")})}new IntersectionObserver(onIntersection,scrollconfig).observe(pixeltracking)}else document.getElementById("backToTopBtnContainer").classList.add("visible");const disqusTarget=document.getElementById("disqus_thread"),relatedTarget=document.getElementById("related-posts"),lazyconfig={rootmargin:"150px 0px",threshold:.01};let relatedsrc,relatedhash,relatedtitle;function loadDisqus(e){const t=document.getElementById("disqus_empty"),o=document.createElement("script");e&&(o.onload=console.log("Disqus loaded."),o.src="https://xerblade.disqus.com/embed.js",document.head.appendChild(o),t&&t.remove())}function loadRelatedPosts(e){const t=document.createElement("script");t.setAttribute("crossorigin","anonymous"),t.setAttribute("integrity",relatedhash),t.onload=console.log("Related posts loaded."),t.onerror=(()=>{throw failedToLoadRelatedPosts(),this.remove(),new Error("Failed to load "+this.src)}),t.src=relatedsrc,document.head.appendChild(t)}function failedToLoadRelatedPosts(){const e=document.createElement("div");e.classList.add("card");const t=document.createElement("div");t.classList.add("card-content"),t.appendChild(document.createTextNode("Failed to load "+relatedtitle+"."));const o=document.createElement("div");o.classList.add("card-action");const n=document.createElement("button");n.classList.add("btn"),n.classList.add("ripple"),n.classList.add("ripple-light"),n.onclick=(()=>{loadRelatedPosts(relatedTarget)}),n.appendChild(document.createTextNode("Retry")),o.appendChild(n),e.appendChild(t),e.appendChild(o),relatedTarget.appendChild(e)}if(window.location.href.indexOf("/p/")>-1?(relatedsrc="https://rawcdn.githack.com/XerBlade/xerblade-com-tracker/269a8b44dad660053a1c7350c0769af76f6636d9/js/recentposts.min.js",relatedhash="sha384-L+BqG4uutIJAkHsmHpe1JSI+JUCYu++Zqz/ym48MxILipgV/xKIz4OYCaZi61e7Y",relatedtitle="recent posts"):(relatedsrc="https://rawcdn.githack.com/XerBlade/xerblade-com-tracker/aa3d47843fc78fa884a73a44d88e2385170138ef/js/relatedposts.min.js",relatedhash="sha384-GxCaPRod4sQ4Hj77ZMXjgvx0+QIz09F2P6hXu3fyfmrQV07FcEi8cvToUG2npac6",relatedtitle="related posts"),disqusTarget&&relatedTarget){let e=window.location.hash;if(e&&(e=e.replace(/#/,"")),"IntersectionObserver"in window&&0!=e.indexOf("comment-")){function onLazyIntersection(t){t&&t.forEach(t=>{t.intersectionRatio>0&&t.target==disqusTarget?(e.unobserve(t.target),loadDisqus(t.target)):t.intersectionRatio>0&&t.target==relatedTarget&&(e.unobserve(t.target),loadRelatedPosts(t.target))})}const e=new IntersectionObserver(onLazyIntersection,lazyconfig);e.observe(disqusTarget),e.observe(relatedTarget)}else loadRelatedPosts(relatedTarget),loadDisqus(disqusTarget)}const disquslink=document.getElementById("disqus-link");if(disquslink&&disquslink.addEventListener("click",e=>{e.preventDefault(),document.getElementById("disqus_thread").focus()}),navigator.share){const e=document.getElementById("native-share-button");e.addEventListener("click",()=>{const e=document.title;let t=document.location.href;const o=document.querySelector("link[rel=canonical]");null!==o&&(t=o.href);const n=document.querySelector("meta[name='description']"),a=n?n.content:"";navigator.share({title:e,text:a,url:t}).then(()=>{console.log("Successful share")}).catch(e=>{console.error("Error sharing",e)})}),e.classList.remove("hide");const t=document.querySelector(".share-btns");t&&t.classList.add("hide")}document.querySelectorAll(".validate").forEach(e=>{e.addEventListener("invalid",t=>{t.preventDefault(),e.classList.add("invalid"),e.addEventListener("input",function t(){e.classList.remove("invalid"),e.removeEventListener("input",t)})})});const modalTriggers=document.querySelectorAll(".modal-trigger");modalTriggers.forEach(e=>{const t=e.dataset.target,o=document.getElementById(t);e.onclick=(e=>{o.classList.add("open"),o.querySelector("input[required]").focus(),document.querySelector(".modal-overlay").onclick=(()=>{o.classList.remove("open")})}),e.href="javascript:void(0)",o.querySelector("form").addEventListener("submit",()=>{o.classList.remove("open")}),o.querySelector(".modal-close").onclick=(()=>{o.classList.remove("open")})});