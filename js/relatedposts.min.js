"use strict";const defaultnoimage="https://1.bp.blogspot.com/-nFUoiZWLdww/W20wJys8EzI/AAAAAAABtUw/uguC0eLLQuoiofVEKUqG5GYrPGigfpqoACLcBGAs/w576-h324-p-k-no-nu/no-thumb-square.jpg",maxresults=3,norelatedpoststitle="No related posts",canonicalHomeURL="https://www.xerblade.com";let relatedPosts=[];function loadScript(e){return new Promise((t,n)=>{const l=document.createElement("script");l.onload=(()=>{t(l)}),l.onerror=(()=>{n(new Error("Failed to load "+e))}),l.src=e,document.head.appendChild(l)})}function handleRelatedPostFeedResults(e){const t=e.feed.entry.length;for(let n=0;n<t;n++){const t=e.feed.entry[n],l={};l.title=t.title.$t,l.fullTitle=t.title.$t;try{if(t.media$thumbnail.url){const e=t.media$thumbnail.url;l.thumbnail=e.replace("/s72-c/","/w576-h324-p-k-no-nu/")}}catch(e){const n=t.content.$t,a=n.indexOf("<img"),p=n.indexOf('src="',a),s=n.indexOf('"',p+5),o=n.substr(p+5,s-p-5);l.thumbnail=-1!=a&&-1!=p&&-1!=s&&""!=o?o:void 0!==defaultnoimage?defaultnoimage:"https://3.bp.blogspot.com/-PpjfsStySz0/UF91FE7rxfI/AAAAAAAACl8/092MmUHSFQ0/w576-h324-p-k-no-nu/no_image.jpg"}l.title.length>35&&(l.title=l.title.substring(0,35)+"...");const a=t.link.length;for(let e=0;e<a;e++)"alternate"==t.link[e].rel&&(l.url=t.link[e].href);relatedPosts.push(l)}}function removeRelatedDuplicates(e){let t=[];relatedPosts.forEach(n=>{n.url!=e&&t.every(e=>n.url!=e.url)&&t.push(n)}),relatedPosts=t}function shufflePosts(){for(let e=relatedPosts.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[relatedPosts[e],relatedPosts[t]]=[relatedPosts[t],relatedPosts[e]]}}function printRelatedLabels(){const e=document.getElementById("related-posts");if(!e)return;for(;e.firstChild;)e.firstChild.remove();const t=relatedPosts.length;if(0==t){const t=document.createElement("h4");return t.classList.add("card-panel"),t.appendChild(document.createTextNode(norelatedpoststitle)),void e.appendChild(t)}const n=t<maxresults?t:maxresults,l=document.createElement("div");l.classList.add("row");for(let e=0;e<n;e++){const t=document.createElement("div");t.classList.add("col"),t.classList.add("s12"),t.classList.add("m4"),t.classList.add("l4");const n=document.createElement("div");n.classList.add("card"),n.title=relatedPosts[e].fullTitle;const a=document.createElement("a");a.href=relatedPosts[e].url;const p=document.createElement("div");p.classList.add("card-image");const s=document.createElement("picture"),o=document.createElement("source");o.srcset=relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w149-h84-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 149w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w210-h118-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 210w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w258-h145-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 258w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w297-h167-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 297w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w352-h198-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 352w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w576-h324-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 576w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w640-h360-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 640w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w800-h450-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 800w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1024-h576-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 1024w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1280-h720-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 1280w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1440-h810-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 1440w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1920-h1080-p-k-no-nu-rw/").replace(".jpg",".webp").replace(".png",".webp")+" 1920w",o.sizes="(min-width: 1389px) 297px, (min-width: 993px) 22vw, (min-width: 601px) 26vw, (min-width: 451px) 96vw, 94vw",o.type="image/webp";const r=document.createElement("source");r.srcset=relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w149-h84-p-k-no-nu/")+" 149w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w210-h118-p-k-no-nu/")+" 210w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w258-h145-p-k-no-nu/")+" 258w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w297-h167-p-k-no-nu/")+" 297w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w352-h198-p-k-no-nu/")+" 352w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w576-h324-p-k-no-nu/")+" 576w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w640-h360-p-k-no-nu/")+" 640w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w800-h450-p-k-no-nu/")+" 800w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1024-h576-p-k-no-nu/")+" 1024w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1280-h720-p-k-no-nu/")+" 1280w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1440-h810-p-k-no-nu/")+" 1440w, "+relatedPosts[e].thumbnail.replace("/w576-h324-p-k-no-nu/","/w1920-h1080-p-k-no-nu/")+" 1920w",r.sizes="(min-width: 1389px) 297px, (min-width: 993px) 22vw, (min-width: 601px) 26vw, (min-width: 451px) 96vw, 94vw";const d=document.createElement("img");d.src=relatedPosts[e].thumbnail,d.alt="",s.appendChild(o),s.appendChild(r),s.appendChild(d),p.appendChild(s);const c=document.createElement("div");c.classList.add("card-content"),c.classList.add("imgpost"),c.appendChild(document.createTextNode(relatedPosts[e].title)),a.appendChild(p),a.appendChild(c),n.appendChild(a),t.appendChild(n),l.appendChild(t)}e.appendChild(l)}const jsonscripts=document.labels.map(e=>canonicalHomeURL+"/feeds/posts/default/-/"+e+"?alt=json-in-script&callback=handleRelatedPostFeedResults&max-results=6"),currentURL=canonicalHomeURL+location.pathname;if("undefined"!=typeof Promise&&-1!==Promise.toString().indexOf("[native code]")){let e=jsonscripts.map(loadScript);Promise.all(e).then(e=>{removeRelatedDuplicates(currentURL),shufflePosts(),printRelatedLabels()})}else printRelatedLabels();