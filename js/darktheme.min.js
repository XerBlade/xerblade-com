"use strict";function changeWebsiteTheme(e){const t=document.head.getElementsByTagName("meta");if(0!=t.length){for(let e=t.length-1;e>=0;e--){const n=t[e].getAttribute("name");n&&("theme-color"==n?t[e].remove():"msapplication-navbutton-color"==n?t[e].remove():"apple-mobile-web-app-status-bar-style"==n&&t[e].remove())}if("dark"===e){const e=document.createElement("meta");e.setAttribute("name","theme-color"),e.content="#2E2E2E",document.head.appendChild(e);const t=document.createElement("meta");t.setAttribute("name","msapplication-navbutton-color"),t.content="#2E2E2E",document.head.appendChild(t);const n=document.createElement("meta");n.setAttribute("name","apple-mobile-web-app-status-bar-style"),n.content="#2E2E2E",document.head.appendChild(n)}else if("light"===e){const e=document.createElement("meta");e.setAttribute("name","theme-color"),e.content="#f44336",document.head.appendChild(e);const t=document.createElement("meta");t.setAttribute("name","msapplication-navbutton-color"),t.content="#f44336",document.head.appendChild(t);const n=document.createElement("meta");n.setAttribute("name","apple-mobile-web-app-status-bar-style"),n.content="#f44336",document.head.appendChild(n)}}}function changeDisqusTheme(e){if("dark"===e){const e=document.getElementById("comments");e&&(e.style.backgroundColor="rgba(30,30,30,1)",e.style.color="rgba(255,255,255,0.87)")}else if("light"===e){const e=document.getElementById("comments");e&&(e.style.backgroundColor="rgb(255,255,255)",e.style.color="rgba(0, 0, 0, 0.87);")}}function refreshDisqusPanel(){"undefined"!=typeof DISQUS&&null!==DISQUS&&DISQUS.reset({reload:!0,config:()=>{this.page.identifier=this.page.identifier,this.page.url=document.canonicalPageURL}})}let mqDark={},mqLight={};function themeColorListener(e){const t=e.matches,n=e.media;t&&("(prefers-color-scheme: dark)"===n?(changeWebsiteTheme("dark"),changeDisqusTheme("dark"),refreshDisqusPanel()):"(prefers-color-scheme: light)"===n&&(changeWebsiteTheme("light"),changeDisqusTheme("light"),refreshDisqusPanel()))}function autoToggleColorThemeBySystem(){window.matchMedia&&(mqDark.addListener(themeColorListener),mqLight.addListener(themeColorListener))}function removeColorThemeBySystem(){window.matchMedia&&(mqDark.removeListener(themeColorListener),mqLight.removeListener(themeColorListener))}function setInitialColorTheme(){"dark"==window.getComputedStyle(document.documentElement).getPropertyValue("content").replace(/"/g,"")?(changeWebsiteTheme("dark"),changeDisqusTheme("dark"),refreshDisqusPanel()):(changeWebsiteTheme("light"),changeDisqusTheme("light"),refreshDisqusPanel())}function setDarkMode(){document.getElementById("darkthemestylesheet").setAttribute("media","screen"),changeWebsiteTheme("dark"),changeDisqusTheme("dark"),refreshDisqusPanel(),removeColorThemeBySystem(),localStorage.setItem("themeSwitch","dark")}function setLightMode(){document.getElementById("darkthemestylesheet").setAttribute("media","none"),changeWebsiteTheme("light"),changeDisqusTheme("light"),refreshDisqusPanel(),removeColorThemeBySystem(),localStorage.setItem("themeSwitch","light")}function setDefaultColorMode(){document.getElementById("darkthemestylesheet").setAttribute("media","screen and (prefers-color-scheme: dark)"),autoToggleColorThemeBySystem(),setInitialColorTheme(),localStorage.removeItem("themeSwitch")}function initTheme(){const e=null!==localStorage.getItem("themeSwitch")&&"dark"===localStorage.getItem("themeSwitch"),t=null!==localStorage.getItem("themeSwitch")&&"light"===localStorage.getItem("themeSwitch"),n=window.getComputedStyle(document.documentElement).getPropertyValue("content").replace(/"/g,"");if("light"==n||"dark"==n||"no-preference"==n){const n=document.getElementById("theme-button-container"),a=document.getElementById("theme-button-auto"),o=document.getElementById("theme-button-dark"),l=document.getElementById("theme-button-light");n.className=e?"reveal-labelled dark-theme-set":t?"reveal-labelled light-theme-set":"reveal-labelled auto-theme-set",a.addEventListener("click",function(e){setDarkMode(),n.className="reveal-labelled dark-theme-set"}),o.addEventListener("click",function(e){setLightMode(),n.className="reveal-labelled light-theme-set"}),l.addEventListener("click",function(e){setDefaultColorMode(),n.className="reveal-labelled auto-theme-set"})}else{const t=document.getElementById("theme-button-container"),n=document.getElementById("theme-button-dark"),a=document.getElementById("theme-button-light");t.className=e?"reveal-labelled dark-theme-set":"reveal-labelled light-theme-set",n.addEventListener("click",function(e){setLightMode(),t.className="reveal-labelled light-theme-set"}),a.addEventListener("click",function(e){setDarkMode(),t.className="reveal-labelled dark-theme-set"})}}window.matchMedia&&(mqDark=window.matchMedia("(prefers-color-scheme: dark)"),mqLight=window.matchMedia("(prefers-color-scheme: light)")),"loading"==document.readyState?window.addEventListener("DOMContentLoaded",initTheme):initTheme();